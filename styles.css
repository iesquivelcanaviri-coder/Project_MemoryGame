/* root variables */ /* Section label for theme variables */
:root { /* Root scope for global CSS variables */
  --bg: #0f172a; /* Dark blue background for entire site */
  --panel: #111c35; /* Panel background colour */
  --text: #e5e7eb; /* Primary text colour */
  --muted: #cbd5e1; /* Muted/secondary text colour */
  --border: rgba(255,255,255,0.14); /* Subtle border colour */
  --accent: #38bdf8; /* Accent colour for hover/focus */
  --success: #22c55e; /* Green success colour for matched cards */
  --selected: #facc15; /* Yellow highlight for flipped cards */
  --focus: rgba(56,189,248,0.75); /* Glow effect for keyboard focus */
}

/* global reset */ /* Universal reset for consistent sizing */
* {
  box-sizing: border-box; /* Includes padding/border inside element width */
}

/* body and layout */ /* Base layout + typography */
body {
  margin: 0; /* Removes default body margin */
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; /* Modern font stack */
  background: var(--bg); /* Applies global background colour */
  color: var(--text); /* Applies global text colour */
}

.container {
  width: min(62.5rem, 92%); /* Responsive max width */
  margin: 0 auto; /* Centers container horizontally */
}

/* header and footer */ /* Shared header/footer styling */
.site-header,
.site-footer {
  border-bottom: 0.0625rem solid var(--border); /* Thin bottom border */
}

.site-footer {
  border-top: 0.0625rem solid var(--border); /* Adds top border */
  border-bottom: none; /* Removes bottom border */
  margin-top: 1.5rem; /* Adds spacing above footer */
}

.site-header .container,
.site-footer .container {
  padding: 1.25rem 0; /* Vertical padding inside header/footer */
}

.subtitle {
  margin-top: 0.5em; /* Spacing above subtitle */
  color: var(--muted); /* Muted text colour */
  line-height: 1.5; /* Comfortable line spacing */
}

/* panel component */ /* Reusable panel styling */
.panel {
  margin: 1.125rem 0; /* Vertical spacing around panel */
  padding: 1rem; /* Inner padding */
  background: var(--panel); /* Panel background colour */
  border: 0.0625rem solid var(--border); /* Thin border */
  border-radius: 0.875rem; /* Rounded corners */
}

/* game controls (form) */ /* Form layout grid */
.controls {
  display: grid; /* Enables grid layout */
  gap: 0.75rem; /* Spacing between grid items */
  grid-template-columns: 1fr 1fr; /* Two equal columns */
}

.controls label {
  grid-column: 1 / -1; /* Label spans full width */
  color: var(--muted); /* Muted label colour */
  font-size: 0.9rem; /* Slightly smaller text */
}

.controls input,
.controls select {
  padding: 0.65em; /* Inner padding */
  border-radius: 0.625rem; /* Rounded corners */
  border: 0.0625rem solid var(--border); /* Subtle border */
  background: rgba(255,255,255,0.04); /* Slight translucent background */
  color: var(--text); /* Text colour */
}

.controls button {
  padding: 0.65em; /* Button padding */
  border-radius: 0.625rem; /* Rounded corners */
  border: 0.0625rem solid var(--border); /* Subtle border */
  background: rgba(255,255,255,0.06); /* Slight translucent background */
  color: var(--text); /* Button text colour */
  cursor: pointer; /* Pointer cursor */
  transition: border-color 0.12s ease; /* Smooth hover transition */
}

.controls button:hover {
  border-color: var(--accent); /* Accent border on hover */
}

.controls button:disabled {
  opacity: 0.5; /* Dimmed appearance */
  cursor: not-allowed; /* Disabled cursor */
}

/* keyboard focus */ /* Accessibility focus styling */
.controls input:focus-visible,
.controls select:focus-visible,
.controls button:focus-visible {
  outline: none; /* Removes default outline */
  border-color: var(--accent); /* Accent border */
  box-shadow: 0 0 0 0.1875rem var(--focus); /* Glow ring */
}

.feedback {
  grid-column: 1 / -1; /* Full-width feedback area */
  color: var(--muted); /* Muted text colour */
  min-height: 1.2em; /* Reserve space for messages */
}

/* status panel */ /* Moves/time/pairs layout */
.status {
  display: grid; /* Grid layout */
  grid-template-columns: repeat(3, 1fr); /* Three equal columns */
  gap: 0.75rem; /* Spacing between items */
}

.status div {
  padding: 0.75rem; /* Inner padding */
  border-radius: 0.75rem; /* Rounded corners */
  border: 0.0625rem solid var(--border); /* Subtle border */
  background: rgba(255,255,255,0.03); /* Slight translucent background */
}

/* game board */ /* Grid for cards */
.board {
  display: grid; /* Grid layout */
  gap: 0.75rem; /* Spacing between cards */
  margin-top: 0.75rem; /* Spacing above board */
  grid-auto-rows: 1fr; /* Square-ish rows */
}

/* card component */ /* Base card styling */
.card {
  position: relative; /* Needed for absolute children */
  aspect-ratio: 1 / 1; /* Perfect square */
  border-radius: 0.875rem; /* Rounded corners */
  border: 0.125rem solid var(--border); /* Border */
  background: rgba(255,255,255,0.04); /* Slight translucent background */
  cursor: pointer; /* Pointer cursor */
  overflow: hidden; /* Hide overflow */
  transition: transform 0.12s ease, border-color 0.12s ease, box-shadow 0.12s ease; /* Smooth transitions */
}

.card:hover {
  transform: translateY(-0.125rem); /* Lift effect */
  border-color: var(--accent); /* Accent border */
}

.card:focus-visible {
  outline: none; /* Remove default outline */
  border-color: var(--accent); /* Accent border */
  box-shadow: 0 0 0 0.1875rem var(--focus); /* Glow ring */
}

.card-inner {
  position: absolute; /* Positioned inside card */
  inset: 0; /* Fill entire card */
  display: grid; /* Center content */
  place-items: center; /* Perfect centering */
  font-size: clamp(1.2rem, 4vw, 2rem); /* Responsive font size */
  font-weight: 600; /* Bold text */
  letter-spacing: 0.08em; /* Slight spacing */
}

.card .back {
  color: var(--muted); /* Back text colour */
  opacity: 1; /* Visible by default */
  transition: opacity 0.16s ease; /* Smooth fade */
}

.card .front {
  opacity: 0; /* Hidden by default */
  color: #0f172a; /* Dark text */
  background: rgba(250,204,21,0.9); /* Yellow background */
  transform: scale(0.95); /* Slightly smaller */
  transition: opacity 0.16s ease, transform 0.16s ease; /* Smooth reveal */
}

.card.is-flipped {
  border-color: var(--selected); /* Yellow border */
  border-width: 0.25rem; /* Thicker border */
  box-shadow:
    0 0 0 0.1875rem rgba(250,204,21,0.35), /* Glow ring */
    0 0.5rem 1.25rem rgba(0,0,0,0.35); /* Drop shadow */
}

.card.is-flipped .front {
  opacity: 1; /* Reveal front */
  transform: scale(1); /* Full size */
}

.card.is-flipped .back {
  opacity: 0; /* Hide back */
}

.card.is-matched {
  border-color: var(--success); /* Green border */
  background: rgba(34,197,94,0.14); /* Green tint */
  opacity: 0.6; /* Dimmed */
  cursor: default; /* No interaction */
}

/* history table */ /* Table styling */
.history-table {
  width: 100%; /* Full width */
  border-collapse: collapse; /* Remove spacing between cells */
  margin-top: 0.625rem; /* Spacing above table */
  font-size: 0.95rem; /* Slightly smaller text */
  max-width: 100%; /* Prevent overflow */
}

.history-table th,
.history-table td {
  border: 0.0625rem solid var(--border); /* Cell borders */
  padding: 0.5em; /* Cell padding */
  text-align: left; /* Left-aligned text */
  white-space: nowrap; /* Prevent wrapping */
}

.history-table th {
  background: rgba(255,255,255,0.06); /* Header background */
  color: var(--muted); /* Muted header text */
}

.history-table tr:nth-child(odd) {
  background: rgba(255,255,255,0.02); /* Alternating row colour */
}

/* -----------------------------
   RESPONSIVE HISTORY TABLE
   ----------------------------- */
@media (max-width: 43.75rem) { /* Mobile breakpoint */

  .history-table thead {
    display: none; /* Hide table header on mobile */
  }

  .history-table,
  .history-table tbody,
  .history-table tr,
  .history-table td {
    display: block; /* Convert table to block layout */
    width: 100%; /* Full width */
  }

  .history-table tr {
    margin-bottom: 1rem; /* Space between rows */
    border: 0.0625rem solid var(--border); /* Border */
    border-radius: 0.75rem; /* Rounded corners */
    padding: 0.75rem; /* Inner padding */
    background: rgba(255,255,255,0.03); /* Background tint */
  }

  .history-table td {
    display: flex; /* Label + value layout */
    justify-content: space-between; /* Spread items */
    align-items: center; /* Vertical alignment */
    padding: 0.4em 0; /* Vertical padding */
    border: none; /* Remove borders */
  }

  .history-table td::before {
    content: attr(data-label); /* Insert label text */
    font-weight: 600; /* Bold label */
    color: var(--muted); /* Muted label colour */
  }
}

/* responsive */ /* General responsive layout */
@media (max-width: 43.75rem) {
  .controls {
    grid-template-columns: 1fr; /* Single-column form */
  }

  .status {
    grid-template-columns: 1fr; /* Single-column status panel */
  }
}
